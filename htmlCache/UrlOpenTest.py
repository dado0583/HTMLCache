'''
Created on Sep 4, 2016

@author: dave
'''
import unittest
from htmlCache import UrlOpen

class Test(unittest.TestCase):
    @classmethod
    def setUpClass(cls):
        pass
    
    
    def testAlreadyCachedItem(self):
        cache =  UrlOpen.UrlOpen()
        
        cachedItems = cache.getNumberOfCachedItems()
        
        url = 'http://google.com'
        html = cache.getHTML(url)
        self.assertEqual(html, "Cached")
                
        self.assertEqual(cachedItems, cache.getNumberOfCachedItems())
        
        nonCachedUrl = 'http://www.microsoft.com'
        html = cache.getHTML(nonCachedUrl)
        self.assertGreater(len(html), 100)
        
        self.assertEqual(cachedItems+1, cache.getNumberOfCachedItems())
        cache.removeCachedItems(nonCachedUrl)
        
if __name__ == "__main__":
    #import sys;sys.argv = ['', 'Test.testName']
    print("Hello")
    